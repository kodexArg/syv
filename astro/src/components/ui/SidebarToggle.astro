---
// Componente simplificado para toggle del sidebar
---

<button id="toggle-sidebar" class="sidebar-toggle-navbar" title="Sidebar">
  <i id="sidebar-icon" class="fas fa-bars"></i>
</button>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const toggleButton = document.getElementById('toggle-sidebar');
    const sidebarIcon = document.getElementById('sidebar-icon');
    const sidebar = document.getElementById('sidebar');
    const main = document.getElementById('main-content');

    function updateIcon() {
      const isVisible = sidebar?.classList.contains('sidebar-open');
      
      if (sidebarIcon) {
        sidebarIcon.className = isVisible ? 'fas fa-times' : 'fas fa-bars';
        toggleButton?.setAttribute('title', isVisible ? 'Ocultar Sidebar' : 'Mostrar Sidebar');
      }
    }

    function toggleSidebar() {
      const willBeOpen = !sidebar?.classList.contains('sidebar-open');
      
      if (willBeOpen) {
        sidebar?.classList.add('sidebar-open');
        main?.classList.add('main-with-sidebar');
      } else {
        sidebar?.classList.remove('sidebar-open');
        main?.classList.remove('main-with-sidebar');
      }
      
      updateIcon();
    }

    // Event listener
    toggleButton?.addEventListener('click', toggleSidebar);
    
    // Estado inicial basado en pantalla
    const isDesktop = window.innerWidth >= 768;
    
    if (isDesktop) {
      sidebar?.classList.add('sidebar-open');
      main?.classList.add('main-with-sidebar');
    } else {
      sidebar?.classList.remove('sidebar-open');
      main?.classList.remove('main-with-sidebar');
    }
    
    updateIcon();
  });
</script> 